<!--
  ~ Copyright 2024 Martin Atanasov.
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div th:fragment="nav">
    <nav class="navbar is-light has-shadow" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item is-flex" th:href="@{/}">
                <img class="nav-logo pr-2" width="640" height="460" src="/images/computer-store-logo.svg" alt="Computer store logo"/>
                <p class="text-black logo-text">Computer Store</p>
            </a>

            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-start">
                <a th:href="@{/}" th:class="${param.active == 'Home'} ? 'navbar-item active':'navbar-item active'">[[#{nav.home}]]</a>

                <a th:href="@{/About}" class="navbar-item">[[#{nav.about-us}]]</a>

                <div class="navbar-item has-dropdown is-hoverable">
                    <a th:href="@{/Products}" class="navbar-link">[[#{nav.products}]]</a>

                    <div class="navbar-dropdown">
                        <a class="navbar-item is-selected">[[#{nav.products.category}]]</a>
                        <hr class="navbar-divider">
                        <a th:href="@{/Products/monitors}" class="navbar-item">[[#{nav.products.monitors}]]</a>
                        <!--                        <a class="navbar-item is-selected">Jobs</a>-->
                        <a th:href="@{/Products/video-cards}" class="navbar-item">[[#{nav.products.video-card}]]</a>
                        <a th:href="@{/Products/cpu}" class="navbar-item">[[#{nav.products.cpu}]]</a>
                    </div>
                </div>
            </div>

            <div class="navbar-end">
                <div class="navbar-item profile-container">
                    <div sec:authorize="!isAuthenticated()" class="is-flex is-align-content-center">

                        <img class="pr-2" width="40" height="50" src="https://img.icons8.com/ios-filled/50/login-rounded-right.png" alt="login-rounded-right"/>
                        <a class="is-primary nav-link" th:href="@{/Login}"><strong>[[#{nav.login}]]</strong></a>
                    </div>
                    <div sec:authorize="isAuthenticated()" class="is-flex is-align-content-center">
                        <div id="dropdown-position" class="dropdown is-hoverable">
                            <div class="dropdown-trigger">
                                <div class="is-flex is-align-content-center" aria-haspopup="true" aria-controls="dropdown-menu4">
                                    <img class="pr-2" width="40" height="50" src="https://img.icons8.com/ios-filled/50/user.png" alt="user"/>
                                    <p class="nav-link" sec:authentication="principal.username"></p>
                                </div>
                            </div>
                            <div class="dropdown-menu" id="dropdown-menu" role="menu">
                                <div class="dropdown-content">
                                    <div class="dropdown-item">
                                        <div class="profile-link is-flex text-profile">
                                            <img class="pr-2" width="38" height="48" src="/images/profile-settings-48.png" alt="admin-settings-male">
                                            <a th:href="@{/Profile}" class="navbar-item">[[#{nav.profile}]]</a>
                                        </div>
                                        <hr class="dropdown-divider" />
                                        <div class="cart-item is-flex text-profile">
                                            <img class="pr-2" width="38" height="48" src="/images/cart-48.png" alt="shopping-cart--v1"/>
                                            <a th:href="@{/Cart-items}" class="navbar-item">[[#{nav.cart-items}]]</a>
                                        </div>
                                        <hr class="dropdown-divider" />
                                        <div class="cart-item is-flex text-profile">
                                            <img class="pr-2" width="38" height="48" src="/images/delivery-60.png" alt="delivery--v1"/>
                                            <a th:href="@{/Orders}" class="navbar-item">[[#{nav.orders}]]</a>
                                        </div>
                                        <hr class="dropdown-divider" />
                                        <form action="#" th:action="@{/logout}" method="POST">
                                            <button class="button input is-danger is-small" type="submit">[[#{nav.logout}]]</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
<!--                        <img class="pr-2" width="50" height="50" src="https://img.icons8.com/ios-filled/50/user.png" alt="user"/>-->
<!--                        <p class="nav-link" sec:authentication="principal.username"></p>-->
                    </div>
                </div>
            </div>

        </div>
    </nav>
</div>