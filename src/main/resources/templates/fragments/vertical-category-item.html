<!--
  ~ Copyright 2024-2025 Martin Atanasov.
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div th:fragment="vertical-category-item">
    <div class="container box is-fullheight" th:if="${products}" th:each="product : ${products}">

        <div class="columns is-gapless vertical-card-item">

            <div class="column is-two-fifths">
                <a th:href="@{/Products/item/{id}(id=${product.id})}">
                    <figure class="is-3by2 m-1 is-skeleton">
                        <img th:if="${product.imageUrl}"
                             height="150px"
                             width="200px"
                             th:src="@{${product.imageUrl}}"
                             th:alt="${product.description}"
                             th:title="${product.productName}"/>
                    </figure>
                </a>
                <!-- Stars rating here-->
            </div>

            <div class="column">
                <a th:href="@{/Products/item/{id}(id=${product.id})}" class="card-link-text" th:title="${product.productName}">
                    <div class="m-1">
                        <h3 th:if="${product.productName}" th:text="${product.productName}" class="text-three-line is-size-3 is-skeleton"></h3>
                        <hr>
                        <p th:if="${product.description}" th:text="${product.description}" class="text-one-line is-skeleton"></p>
                    </div>
                </a>
            </div>

        </div>
        <!-- After columns container-->
        <div>
            <div class="columns is-gapless is-centered is-vcentered">
                <div class="column is-10 is-mobile-12">
                    <div class="is-flex is-vcentered has-skeleton" style="color: var(--accent);">
                        <p class="is-size-3 has-text-weight-bold pr-2">[[#{product.price.text}]]</p>
                        <p class="is-size-3 has-text-weight-bold" th:if="${product.price}" th:text="${product.price}"></p>
                        <p class="is-size-3 has-text-weight-bold pl-2">[[#{product.currency}]]</p>
                    </div>
                </div>
                <div class="column is-2 is-mobile-1">
                    <a th:href="@{/Products/item/{id}(id=${product.id})}"
                       class="button is-primary is-rounded is-centered is-skeleton">[[#{btn.details}]]</a>
                </div>
            </div>

<!--            <div class="is-flex is-vcentered" style="margin-top: auto;">-->
<!--                <div class="is-flex is-vcentered">-->
<!--                    <p class="is-size-3 has-text-weight-bold pr-2">[[#{product.price.text}]]</p>-->
<!--                    <p class="is-size-3 has-text-weight-bold" th:if="${product.price}" th:text="${product.price}"></p>-->
<!--                    <p class="is-size-3 has-text-weight-bold pl-2">[[#{product.currency}]]</p>-->
<!--                </div>-->
<!--                <div class="is-flex is-vcentered is-justify-content-flex-end" style="width: 100%">-->
<!--                    <a th:href="@{/Products/{id}(id=${product.id})}"-->
<!--                       class="button is-primary is-rounded is-centered is-skeleton ml-2 mr-2">[[#{btn.details}]]</a>-->
<!--                </div>-->
<!--            </div>-->

        </div>

    </div>
</div>